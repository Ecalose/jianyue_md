> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [www.52pojie.cn](https://www.52pojie.cn/thread-2057170-1-1.html) ![](https://static.52pojie.cn/static/image/common/online_member.gif) [13955925361](home.php?mod=space&uid=1211419) _发表于 2025-9-1 11:19_<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_53779203"><i class="pstatus">本帖最后由 13955925361 于 2025-9-1 11:21 编辑</i><br><br><p>首先就是感谢群友带我轨迹算法，经过2天摸索终于给摸出来了。</p><p>一半是群友代码，一半是我的小巧思，直接上代码和效果图好吧。</p><br><br><br><ignore_js_op><img src="https://attach.52pojie.cn/forum/202509/01/111743pymsrgscgvgys4vz.png" alt="QQ20250901-104101.png" title="QQ20250901-104101.png" class=""> </ignore_js_op> &nbsp; &nbsp; <ignore_js_op> <img src="https://attach.52pojie.cn/forum/202509/01/111746gc6vars1a6ce7bhe.png" alt="QQ20250901-104031.png" title="QQ20250901-104031.png" class=""> </ignore_js_op><br><br>[Python] <em class="viewsource" style="cursor:pointer;font-size:12px;color:#369 !important;" num="0">纯文本查看</em> <em class="copycode" style="cursor:pointer;font-size:12px;color:#369 !important;" num="0">复制代码</em><a href="#" class="toolbar_item command_help help">?</a><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter">001002003004005006007008009010011012013014015016017018019020021022023024025026027028029030031032033034035036037038039040041042043044045046047048049050051052053054055056057058059060061062063064065066067068069070071072073074075076077078079080081082083084085086087088089090091092093094095096097098099100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333</td><td class="code"><code class="python keyword">import</code> <code class="python plain">random</code><code class="python keyword">import</code> <code class="python plain">requests</code><code class="python keyword">import</code> <code class="python plain">execjs</code><code class="python keyword">import</code> <code class="python plain">json</code><code class="python keyword">import</code> <code class="python plain">re</code><code class="python keyword">from</code> <code class="python plain">captcha_recognizer.recognizer </code><code class="python keyword">import</code> <code class="python plain">Recognizer</code>&nbsp;<code class="python keyword">import</code> <code class="python plain">math</code><code class="python keyword">def</code> <code class="python plain">jsonp_to_json(jsonp_str):</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">将 JSONP 字符串转换为 JSON 对象</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">参数:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">jsonp_str (str): JSONP 格式的字符串</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">返回:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">dict: 转换后的 JSON 对象</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">try</code><code class="python plain">:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 使用正则表达式提取 JSON 部分</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">match </code><code class="python keyword">=</code> <code class="python plain">re.search(r</code><code class="python string">'^\w+\(({.*})\)$'</code><code class="python plain">, jsonp_str)</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">match:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">json_str </code><code class="python keyword">=</code> <code class="python plain">match.group(</code><code class="python value">1</code><code class="python plain">)</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">json.loads(json_str)</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 如果正则匹配失败，尝试直接解析</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">json.loads(jsonp_str)</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">except</code> <code class="python plain">json.JSONDecodeError as e:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code><code class="python plain">(f</code><code class="python string">"JSON 解析错误: {e}"</code><code class="python plain">)</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python color1">None</code>&nbsp;&nbsp;<code class="python keyword">def</code> <code class="python plain">get_random_str(t):</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">高效生成指定长度的随机字符串（推荐）</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">'</code><code class="python string">'.join(random.choices('</code><code class="python plain">abcdefghijklmnopqrstuvwxyz0123456789', k</code><code class="python keyword">=</code><code class="python plain">t))</code>&nbsp;<code class="python plain">cc</code><code class="python keyword">=</code><code class="python plain">get_random_str(</code><code class="python value">11</code><code class="python plain">)</code><code class="python functions">print</code><code class="python plain">(cc)</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code class="python plain">headers </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Accept"</code><code class="python plain">: </code><code class="python string">"*/*"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Accept-Language"</code><code class="python plain">: </code><code class="python string">"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Cache-Control"</code><code class="python plain">: </code><code class="python string">"no-cache"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Connection"</code><code class="python plain">: </code><code class="python string">"keep-alive"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Pragma"</code><code class="python plain">: </code><code class="python string">"no-cache"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Sec-Fetch-Dest"</code><code class="python plain">: </code><code class="python string">"script"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Sec-Fetch-Mode"</code><code class="python plain">: </code><code class="python string">"no-cors"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Sec-Fetch-Site"</code><code class="python plain">: </code><code class="python string">"same-site"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"User-Agent"</code><code class="python plain">: </code><code class="python string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"sec-ch-ua"</code><code class="python plain">: </code><code class="python string">"\"Not;A=Brand\";v=\"99\", \"Microsoft Edge\";v=\"139\", \"Chromium\";v=\"139\""</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"sec-ch-ua-mobile"</code><code class="python plain">: </code><code class="python string">"?0"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"sec-ch-ua-platform"</code><code class="python plain">: </code><code class="python string">"\"Windows\""</code><code class="python plain">}</code><code class="python plain">cookies </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"MEIQIA_TRACK_ID"</code><code class="python plain">: </code><code class="python string">"315XEmqEg9eE9AmpH78QCVKb717"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"MEIQIA_VISIT_ID"</code><code class="python plain">: </code><code class="python string">"315ojXtuJIi1LGvsvUcKlbG0pza"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"__wksid"</code><code class="python plain">: </code><code class="python string">"n-46204E3C0DFF4AAE903F207EDB76F9B2"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"_gid"</code><code class="python plain">: </code><code class="python string">"GA1.2.1715615459.1756551090"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"_ga_ESVMH6YSPX"</code><code class="python plain">: </code><code class="python string">"GS2.1.s1756692044$o12$g0$t1756692044$j60$l0$h0"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"_ga_B8H0JYR4RL"</code><code class="python plain">: </code><code class="python string">"GS2.1.s1756692044$o13$g0$t1756692044$j60$l0$h0"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"_ga"</code><code class="python plain">: </code><code class="python string">"GA1.1.548472449.1754823427"</code><code class="python plain">}</code><code class="python plain">url </code><code class="python keyword">=</code> <code class="python string">"https://captcha.yunpian.com/v1/jsonp/captcha/get"</code>&nbsp;<code class="python plain">exx</code><code class="python keyword">=</code><code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"browserInfo"</code><code class="python plain">: [</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"key"</code><code class="python plain">: </code><code class="python string">"userAgent"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"value"</code><code class="python plain">: </code><code class="python string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">},</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"key"</code><code class="python plain">: </code><code class="python string">"language"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"value"</code><code class="python plain">: </code><code class="python string">"zh-CN"</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">},</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"key"</code><code class="python plain">: </code><code class="python string">"hardware_concurrency"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"value"</code><code class="python plain">: </code><code class="python value">32</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">},</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"key"</code><code class="python plain">: </code><code class="python string">"resolution"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"value"</code><code class="python plain">: [</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python value">1464</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python value">915</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">]</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">},</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"key"</code><code class="python plain">: </code><code class="python string">"navigator_platform"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"value"</code><code class="python plain">: </code><code class="python string">"Win32"</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">],</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"nativeInfo"</code><code class="python plain">: </code><code class="python color1">None</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"additions"</code><code class="python plain">: {},</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"options"</code><code class="python plain">: {</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"sdk"</code><code class="python plain">: </code><code class="python string">"https://www.yunpian.com/static/official/js/libs/riddler-sdk-0.2.2.js"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"sdkBuildVersion"</code><code class="python plain">: </code><code class="python string">"1.5.0(2021111001)"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"hosts"</code><code class="python plain">: </code><code class="python string">"https://captcha.yunpian.com"</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">},</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"fp"</code><code class="python plain">: </code><code class="python string">"d09f0f0b285c4e6ce19192f567f62bc4"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"address"</code><code class="python plain">: </code><code class="python string">"https://www.yunpian.com"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"yp_riddler_id"</code><code class="python plain">: </code><code class="python string">"b4cc441f-512c-4d7b-9da1-f6e7c64e2e03"</code><code class="python plain">}</code>&nbsp;<code class="python plain">with </code><code class="python functions">open</code><code class="python plain">(</code><code class="python string">"云片.js"</code><code class="python plain">, </code><code class="python string">"r"</code><code class="python plain">, encoding</code><code class="python keyword">=</code><code class="python string">"utf-8"</code><code class="python plain">) as f:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">js_code </code><code class="python keyword">=</code> <code class="python plain">execjs.</code><code class="python functions">compile</code><code class="python plain">(f.read())</code><code class="python plain">ctx</code><code class="python keyword">=</code><code class="python plain">js_code.call(</code><code class="python string">"encrypt"</code><code class="python plain">, exx)</code>&nbsp;<code class="python functions">print</code><code class="python plain">(ctx)</code><code class="python plain">data </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"cb"</code><code class="python plain">: cc,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">*</code><code class="python keyword">*</code><code class="python plain">ctx,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"captchaId"</code><code class="python plain">: </code><code class="python string">"974cd565f11545b6a5006d10dc324281"</code>&nbsp;<code class="python plain">}</code><code class="python functions">print</code><code class="python plain">(data)</code><code class="python plain">response </code><code class="python keyword">=</code> <code class="python plain">requests.get(url, headers</code><code class="python keyword">=</code><code class="python plain">headers, cookies</code><code class="python keyword">=</code><code class="python plain">cookies, params</code><code class="python keyword">=</code><code class="python plain">data)</code><code class="python functions">print</code><code class="python plain">(response.text)</code><code class="python plain">result </code><code class="python keyword">=</code> <code class="python plain">jsonp_to_json(response.text)</code>&nbsp;<code class="python plain">bg</code><code class="python keyword">=</code><code class="python plain">result[</code><code class="python string">"data"</code><code class="python plain">][</code><code class="python string">"bg"</code><code class="python plain">]</code><code class="python functions">print</code><code class="python plain">(bg)</code><code class="python plain">front</code><code class="python keyword">=</code><code class="python plain">result[</code><code class="python string">"data"</code><code class="python plain">][</code><code class="python string">"front"</code><code class="python plain">]</code><code class="python functions">print</code><code class="python plain">(front)</code><code class="python plain">token</code><code class="python keyword">=</code><code class="python plain">result[</code><code class="python string">"data"</code><code class="python plain">][</code><code class="python string">"token"</code><code class="python plain">]</code><code class="python functions">print</code><code class="python plain">(token)</code>&nbsp;<code class="python plain">bgContent</code><code class="python keyword">=</code><code class="python plain">requests.get(bg,headers</code><code class="python keyword">=</code><code class="python plain">headers).content</code><code class="python plain">frontContent</code><code class="python keyword">=</code><code class="python plain">requests.get(front,headers</code><code class="python keyword">=</code><code class="python plain">headers).content</code><code class="python plain">with </code><code class="python functions">open</code> <code class="python plain">(</code><code class="python string">'bg.png'</code><code class="python plain">,</code><code class="python string">'wb'</code><code class="python plain">) as f:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">f.write(bgContent)</code>&nbsp;<code class="python plain">with </code><code class="python functions">open</code> <code class="python plain">(</code><code class="python string">'front.png'</code><code class="python plain">,</code><code class="python string">'wb'</code><code class="python plain">) as f:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">f.write(frontContent)</code>&nbsp;&nbsp;<code class="python keyword">import</code> <code class="python plain">logging</code>&nbsp;&nbsp;<code class="python keyword">def</code> <code class="python plain">get_distance(bg_img):</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">使用Recognizer识别滑块验证码的缺口位置并计算滑动距离</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">参数:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">bg_img: 滑块背景图片(文件路径或OpenCV图像对象)</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">返回:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">计算后的滑动距离(像素)</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 初始化识别器</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">recognizer </code><code class="python keyword">=</code> <code class="python plain">Recognizer()</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 识别缺口位置和置信度</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">box, confidence </code><code class="python keyword">=</code> <code class="python plain">recognizer.identify_gap(source</code><code class="python keyword">=</code><code class="python plain">bg_img, verbose</code><code class="python keyword">=</code><code class="python color1">False</code><code class="python plain">)</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 记录日志</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">logger.debug(f</code><code class="python string">'可信度: {confidence}'</code><code class="python plain">)</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 计算滑动距离 (原始代码中的/r544可能是笔误，实际应为/)</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python functions">int</code><code class="python plain">(box[</code><code class="python value">0</code><code class="python plain">] </code><code class="python keyword">/</code> <code class="python value">480</code> <code class="python keyword">*</code> <code class="python value">304</code><code class="python plain">) </code><code class="python keyword">+</code><code class="python plain">random.randint(</code><code class="python value">1</code><code class="python plain">,</code><code class="python value">2</code><code class="python plain">) </code><code class="python comments"># 将原始坐标转换为目标距离</code>&nbsp;<code class="python comments"># # 配置日志</code><code class="python comments"># logging.basicConfig(level=logging.DEBUG)</code><code class="python plain">logger </code><code class="python keyword">=</code> <code class="python plain">logging.getLogger(__name__)</code>&nbsp;<code class="python comments"># 使用示例</code><code class="python plain">distance </code><code class="python keyword">=</code> <code class="python plain">get_distance(</code><code class="python string">"bg.png"</code><code class="python plain">)</code><code class="python functions">print</code><code class="python plain">(distance)</code><code class="python functions">print</code><code class="python plain">(f</code><code class="python string">"需要滑动的距离: {distance}像素"</code><code class="python plain">)</code>&nbsp;&nbsp;&nbsp;<code class="python keyword">def</code> <code class="python plain">get_points( distance: </code><code class="python functions">int</code><code class="python plain">, trajectory_length: </code><code class="python functions">int</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">start_x: </code><code class="python functions">int</code> <code class="python keyword">=</code> <code class="python plain">random.randint(</code><code class="python value">800</code><code class="python plain">, </code><code class="python value">850</code><code class="python plain">), start_y: </code><code class="python functions">int</code> <code class="python keyword">=</code> <code class="python plain">random.randint(</code><code class="python value">1960</code><code class="python plain">, </code><code class="python value">1971</code><code class="python plain">),</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">start_time: </code><code class="python functions">int</code> <code class="python keyword">=</code> <code class="python plain">random.randint(</code><code class="python value">56</code><code class="python plain">, </code><code class="python value">60</code><code class="python plain">)) :</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">生成滑块轨迹数组</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">Args:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">distance: 滑块滑行的总距离（像素）</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">trajectory_length: 生成轨迹数组的长度（点的个数）</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">start_x: 起始x坐标，默认800</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">start_y: 起始y坐标，默认1971</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">start_time: 起始时间戳，默认56</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">Returns:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">List[List[int]]: 轨迹列表，每个元素为 [x, y, time]</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">trajectory_length &lt; </code><code class="python value">2</code><code class="python plain">:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">raise</code> <code class="python plain">ValueError(</code><code class="python string">"轨迹长度至少需要2个点"</code><code class="python plain">)</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">trajectory </code><code class="python keyword">=</code> <code class="python plain">[]</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 第一个点</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">trajectory.append([start_x, start_y, start_time])</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 生成中间点</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python functions">range</code><code class="python plain">(</code><code class="python value">1</code><code class="python plain">, trajectory_length </code><code class="python keyword">-</code> <code class="python value">1</code><code class="python plain">):</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 计算进度比例</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">progress </code><code class="python keyword">=</code> <code class="python plain">i </code><code class="python keyword">/</code> <code class="python plain">(trajectory_length </code><code class="python keyword">-</code> <code class="python value">1</code><code class="python plain">)</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 使用贝塞尔曲线形式的缓动函数，模拟人手滑动的加速度变化</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 先快后慢的效果</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">eased_progress </code><code class="python keyword">=</code> <code class="python value">1</code> <code class="python keyword">-</code> <code class="python plain">math.</code><code class="python functions">pow</code><code class="python plain">(</code><code class="python value">1</code> <code class="python keyword">-</code> <code class="python plain">progress, </code><code class="python value">3</code><code class="python plain">)</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 计算x坐标（基于缓动进度）</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">base_x </code><code class="python keyword">=</code> <code class="python plain">start_x </code><code class="python keyword">+</code> <code class="python functions">int</code><code class="python plain">(distance </code><code class="python keyword">*</code> <code class="python plain">eased_progress)</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 添加小幅随机偏移，模拟手部微抖</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">x_jitter </code><code class="python keyword">=</code> <code class="python plain">random.randint(</code><code class="python keyword">-</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">)</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">x </code><code class="python keyword">=</code> <code class="python plain">base_x </code><code class="python keyword">+</code> <code class="python plain">x_jitter</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 确保x坐标单调递增（允许偶尔相等）</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">x &lt;</code><code class="python keyword">=</code> <code class="python plain">trajectory[i </code><code class="python keyword">-</code> <code class="python value">1</code><code class="python plain">][</code><code class="python value">0</code><code class="python plain">]:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">x </code><code class="python keyword">=</code> <code class="python plain">trajectory[i </code><code class="python keyword">-</code> <code class="python value">1</code><code class="python plain">][</code><code class="python value">0</code><code class="python plain">] </code><code class="python keyword">+</code> <code class="python plain">random.randint(</code><code class="python value">0</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">)</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># y坐标轻微抖动，主要在1971-1973之间</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">y_offset </code><code class="python keyword">=</code> <code class="python plain">random.choice([</code><code class="python value">0</code><code class="python plain">, </code><code class="python value">0</code><code class="python plain">, </code><code class="python value">0</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">])&nbsp; </code><code class="python comments"># 偏向于较小的偏移</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">y </code><code class="python keyword">=</code> <code class="python plain">start_y </code><code class="python keyword">+</code> <code class="python plain">y_offset</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 时间递增，模拟真实的时间间隔</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 根据原数据分析，时间间隔通常在6-200ms之间，大部分在10ms以内</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">i &lt; trajectory_length </code><code class="python keyword">*</code> <code class="python value">0.7</code><code class="python plain">:&nbsp; </code><code class="python comments"># 前70%的点，间隔较小</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">time_delta </code><code class="python keyword">=</code> <code class="python plain">random.randint(</code><code class="python value">6</code><code class="python plain">, </code><code class="python value">25</code><code class="python plain">)</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:&nbsp; </code><code class="python comments"># 后30%的点，间隔可能较大（模拟末尾的停顿）</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">time_delta </code><code class="python keyword">=</code> <code class="python plain">random.randint(</code><code class="python value">8</code><code class="python plain">, </code><code class="python value">200</code><code class="python plain">)</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">time </code><code class="python keyword">=</code> <code class="python plain">trajectory[i </code><code class="python keyword">-</code> <code class="python value">1</code><code class="python plain">][</code><code class="python value">2</code><code class="python plain">] </code><code class="python keyword">+</code> <code class="python plain">time_delta</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">trajectory.append([x, y, time])</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 最后一个点，确保距离精确</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">final_x </code><code class="python keyword">=</code> <code class="python plain">start_x </code><code class="python keyword">+</code> <code class="python plain">distance</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">final_y </code><code class="python keyword">=</code> <code class="python plain">start_y </code><code class="python keyword">+</code> <code class="python plain">random.randint(</code><code class="python value">0</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">)</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">final_time </code><code class="python keyword">=</code> <code class="python plain">trajectory[</code><code class="python keyword">-</code><code class="python value">1</code><code class="python plain">][</code><code class="python value">2</code><code class="python plain">] </code><code class="python keyword">+</code> <code class="python plain">random.randint(</code><code class="python value">8</code><code class="python plain">, </code><code class="python value">50</code><code class="python plain">)</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">trajectory.append([final_x, final_y, final_time])</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 验证距离是否正确</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">actual_distance </code><code class="python keyword">=</code> <code class="python plain">trajectory[</code><code class="python keyword">-</code><code class="python value">1</code><code class="python plain">][</code><code class="python value">0</code><code class="python plain">] </code><code class="python keyword">-</code> <code class="python plain">trajectory[</code><code class="python value">0</code><code class="python plain">][</code><code class="python value">0</code><code class="python plain">]</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">assert</code> <code class="python plain">actual_distance </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">distance, f</code><code class="python string">"距离不匹配: 期望{distance}, 实际{actual_distance}"</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">trajectory</code>&nbsp;&nbsp;<code class="python keyword">def</code> <code class="python plain">reduce_points( t):</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 原始点数据</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 如果点数小于等于50，直接返回</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python functions">len</code><code class="python plain">(t) &lt;</code><code class="python keyword">=</code> <code class="python value">50</code><code class="python plain">:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">t</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 初始化结果列表，包含第一个点</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">e </code><code class="python keyword">=</code> <code class="python plain">[t[</code><code class="python value">0</code><code class="python plain">]]</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 获取最后一个点</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">n </code><code class="python keyword">=</code> <code class="python plain">t[</code><code class="python keyword">-</code><code class="python value">1</code><code class="python plain">]</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 计算步长</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">i </code><code class="python keyword">=</code> <code class="python functions">len</code><code class="python plain">(t) </code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python value">50</code>&nbsp; <code class="python comments"># Python中使用//进行整数除法</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 如果步长小于2，返回原始列表</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">i &lt; </code><code class="python value">2</code><code class="python plain">:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">t</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 按照步长选取点</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">r </code><code class="python keyword">=</code> <code class="python value">1</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python plain">r &lt; </code><code class="python functions">len</code><code class="python plain">(t) </code><code class="python keyword">-</code> <code class="python value">2</code><code class="python plain">:</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">e.append(t[r])</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">r </code><code class="python keyword">+</code><code class="python keyword">=</code> <code class="python plain">i</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># 添加最后一个点</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">e.append(n)</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">e</code>&nbsp;<code class="python plain">distanceX </code><code class="python keyword">=</code> <code class="python plain">(</code><code class="python value">304</code> <code class="python keyword">-</code> <code class="python value">59</code><code class="python plain">) </code><code class="python keyword">*</code> <code class="python plain">(distance </code><code class="python keyword">/</code> <code class="python plain">(</code><code class="python value">304</code> <code class="python keyword">-</code> <code class="python value">42</code><code class="python plain">)) </code><code class="python keyword">/</code> <code class="python value">304</code><code class="python plain">orginal_points </code><code class="python keyword">=</code><code class="python plain">get_points(distance,</code><code class="python functions">int</code><code class="python plain">(distance </code><code class="python keyword">*</code> <code class="python value">0.68</code><code class="python plain">))</code><code class="python functions">print</code><code class="python plain">(orginal_points)</code><code class="python plain">points </code><code class="python keyword">=</code> <code class="python plain">reduce_points(orginal_points)</code><code class="python functions">print</code><code class="python plain">(points)</code>&nbsp;&nbsp;<code class="python plain">metadata </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"points"</code><code class="python plain">: points,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"distanceX"</code><code class="python plain">: distanceX,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"fp"</code><code class="python plain">: </code><code class="python string">"d09f0f0b285c4e6ce19192f567f62bc4"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"address"</code><code class="python plain">: </code><code class="python string">"https://www.yunpian.com"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"yp_riddler_id"</code><code class="python plain">: </code><code class="python string">'b4cc441f-512c-4d7b-9da1-f6e7c64e2e03'</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code>&nbsp;&nbsp;&nbsp;<code class="python plain">dd</code><code class="python keyword">=</code><code class="python plain">js_code.call(</code><code class="python string">"encrypt"</code><code class="python plain">, metadata)</code><code class="python functions">print</code><code class="python plain">(dd)</code>&nbsp;<code class="python plain">datalist </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"cb"</code><code class="python plain">:get_random_str(</code><code class="python value">11</code><code class="python plain">) ,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">*</code><code class="python keyword">*</code><code class="python plain">dd,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">'token'</code><code class="python plain">:token,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"captchaId"</code><code class="python plain">: </code><code class="python string">"974cd565f11545b6a5006d10dc324281"</code>&nbsp;<code class="python plain">}</code><code class="python functions">print</code><code class="python plain">(datalist)</code><code class="python keyword">def</code> <code class="python plain">parse_data(datalist):</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">headers </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Accept"</code><code class="python plain">: </code><code class="python string">"*/*"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Accept-Language"</code><code class="python plain">: </code><code class="python string">"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Cache-Control"</code><code class="python plain">: </code><code class="python string">"no-cache"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Connection"</code><code class="python plain">: </code><code class="python string">"keep-alive"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Pragma"</code><code class="python plain">: </code><code class="python string">"no-cache"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Sec-Fetch-Dest"</code><code class="python plain">: </code><code class="python string">"script"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Sec-Fetch-Mode"</code><code class="python plain">: </code><code class="python string">"no-cors"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Sec-Fetch-Site"</code><code class="python plain">: </code><code class="python string">"same-site"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"User-Agent"</code><code class="python plain">: </code><code class="python string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"sec-ch-ua"</code><code class="python plain">: </code><code class="python string">"\"Not;A=Brand\";v=\"99\", \"Microsoft Edge\";v=\"139\", \"Chromium\";v=\"139\""</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"sec-ch-ua-mobile"</code><code class="python plain">: </code><code class="python string">"?0"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"sec-ch-ua-platform"</code><code class="python plain">: </code><code class="python string">"\"Windows\""</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">cookies </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"MEIQIA_TRACK_ID"</code><code class="python plain">: </code><code class="python string">"315XEmqEg9eE9AmpH78QCVKb717"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"MEIQIA_VISIT_ID"</code><code class="python plain">: </code><code class="python string">"315ojXtuJIi1LGvsvUcKlbG0pza"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"__wksid"</code><code class="python plain">: </code><code class="python string">"n-46204E3C0DFF4AAE903F207EDB76F9B2"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"_gid"</code><code class="python plain">: </code><code class="python string">"GA1.2.1715615459.1756551090"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"_ga_ESVMH6YSPX"</code><code class="python plain">: </code><code class="python string">"GS2.1.s1756692044$o12$g0$t1756692044$j60$l0$h0"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"_ga_B8H0JYR4RL"</code><code class="python plain">: </code><code class="python string">"GS2.1.s1756692044$o13$g0$t1756692044$j60$l0$h0"</code><code class="python plain">,</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"_ga"</code><code class="python plain">: </code><code class="python string">"GA1.1.548472449.1754823427"</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code>&nbsp;<code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">url_1 </code><code class="python keyword">=</code> <code class="python string">"https://captcha.yunpian.com/v1/jsonp/captcha/verify"</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">response </code><code class="python keyword">=</code> <code class="python plain">requests.get(url_1, headers</code><code class="python keyword">=</code><code class="python plain">headers, cookies</code><code class="python keyword">=</code><code class="python plain">cookies, params</code><code class="python keyword">=</code><code class="python plain">datalist)</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">data_2 </code><code class="python keyword">=</code> <code class="python plain">response.text</code><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">data_2</code>&nbsp;<code class="python plain">response_2</code><code class="python keyword">=</code> <code class="python plain">parse_data(datalist)</code><code class="python functions">print</code><code class="python plain">(response_2)</code></td></tr></tbody></table><br><br><br><br><br><strong>JS代码</strong><br><br>[JavaScript] <em class="viewsource" style="cursor:pointer;font-size:12px;color:#369 !important;" num="1">纯文本查看</em> <em class="copycode" style="cursor:pointer;font-size:12px;color:#369 !important;" num="1">复制代码</em><a href="#" class="toolbar_item command_help help">?</a><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter">001002003004005006007008009010011012013014015016017018019020021022023024025026027028029030031032033034035036037038039040041042043044045046047048049050051052053054055056057058059060061062063064065066067068069070071072073074075076077078079080081082083084085086087088089090091092093094095096097098099100101102103104105106107108109110111112113114</td><td class="code"><code class="javascript plain">const CryptoJS = require(</code><code class="javascript string">"crypto-js"</code><code class="javascript plain">);</code><code class="javascript plain">const crypto = require(</code><code class="javascript string">'crypto'</code><code class="javascript plain">)</code>&nbsp;&nbsp;<code class="javascript plain">getRandomStr = </code><code class="javascript keyword">function</code><code class="javascript plain">(t) {</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">for</code> <code class="javascript plain">(</code><code class="javascript keyword">var</code> <code class="javascript plain">e = </code><code class="javascript string">""</code><code class="javascript plain">; e.length &lt; t; )</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">e += Math.random().toString(36).substr(2);</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript plain">e = e.slice(0, t)</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code>&nbsp;<code class="javascript keyword">function</code> <code class="javascript plain">rsaEncrypt(data, publicKey) {</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">try</code> <code class="javascript plain">{</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">// 标准化公钥格式</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">let</code> <code class="javascript plain">formattedKey = publicKey.trim();</code>&nbsp;<code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">// 如果是单行格式，重新格式化</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">if</code> <code class="javascript plain">(!formattedKey.includes(</code><code class="javascript string">'\n'</code><code class="javascript plain">) &amp;&amp; formattedKey.startsWith(</code><code class="javascript string">'-----BEGIN PUBLIC KEY-----'</code><code class="javascript plain">)) {</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">const keyContent = formattedKey</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">.replace(</code><code class="javascript string">'-----BEGIN PUBLIC KEY-----'</code><code class="javascript plain">, </code><code class="javascript string">''</code><code class="javascript plain">)</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">.replace(</code><code class="javascript string">'-----END PUBLIC KEY-----'</code><code class="javascript plain">, </code><code class="javascript string">''</code><code class="javascript plain">)</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">.replace(/\s/g, </code><code class="javascript string">''</code><code class="javascript plain">);</code>&nbsp;<code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">const chunks = keyContent.match(/.{1,64}/g) || [];</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">formattedKey = [</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">'-----BEGIN PUBLIC KEY-----'</code><code class="javascript plain">,</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">...chunks,</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">'-----END PUBLIC KEY-----'</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">].join(</code><code class="javascript string">'\n'</code><code class="javascript plain">);</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code>&nbsp;<code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">const buffer = Buffer.from(data);</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">const encrypted = crypto.publicEncrypt({</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">key: formattedKey,</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">padding: crypto.constants.RSA_PKCS1_PADDING</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}, buffer);</code>&nbsp;<code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript plain">encrypted.toString(</code><code class="javascript string">'base64'</code><code class="javascript plain">);</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">} </code><code class="javascript keyword">catch</code> <code class="javascript plain">(error) {</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">console.error(</code><code class="javascript string">'RSA encryption failed:'</code><code class="javascript plain">, error.message);</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">// 返回原始数据作为备选方案</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript plain">Buffer.from(data).toString(</code><code class="javascript string">'base64'</code><code class="javascript plain">);</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code><code class="javascript plain">}</code>&nbsp;&nbsp;&nbsp;<code class="javascript plain">encrypt = </code><code class="javascript keyword">function</code><code class="javascript plain">(data) {</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">try</code> <code class="javascript plain">{</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">const dataStr = JSON.stringify(data);</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">const aesKey = getRandomStr(16);</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">const iv = getRandomStr(16);</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">const combinedKey = aesKey + iv;</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">const publicKey = </code><code class="javascript string">"-----BEGIN PUBLIC KEY-----MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDnOWe/gs033L/2/xR3oi6SLAMPBY5VledUqqH6dbCNOdrGX4xW+1x6NUfvmwpHRBA2C7xWDDvOIldTl0rMtERTDy9homrVqEcW6/TY+dSVFL3e2Yg2sVaehHv7FhmATkgfC2FcXt8Wvm99QpKRSrGKpcFYJwOj2F8hJh+rTG0IPQIDAQAB-----END PUBLIC KEY-----"</code><code class="javascript plain">;</code>&nbsp;<code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">const encryptedData = CryptoJS.AES.encrypt(dataStr, CryptoJS.enc.Latin1.parse(aesKey), {</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">iv: CryptoJS.enc.Latin1.parse(iv),</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">mode: CryptoJS.mode.CBC,</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">padding: CryptoJS.pad.Pkcs7</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}).toString();</code>&nbsp;<code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">const encryptedKey = rsaEncrypt(combinedKey, publicKey);</code>&nbsp;<code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript plain">{</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">i: encryptedData,</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">k: encryptedKey</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">};</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">} </code><code class="javascript keyword">catch</code> <code class="javascript plain">(error) {</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">console.error(</code><code class="javascript string">"Encryption failed:"</code><code class="javascript plain">, error);</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">throw</code> <code class="javascript keyword">new</code> <code class="javascript plain">Error(</code><code class="javascript string">"Encryption process failed."</code><code class="javascript plain">);</code><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code><code class="javascript plain">};</code>&nbsp;<code class="javascript comments">//</code><code class="javascript comments">// e={</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp; "browserInfo": [</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "key": "userAgent",</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "key": "language",</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "zh-CN"</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "key": "hardware_concurrency",</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": 32</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "key": "resolution",</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": [</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1464,</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 915</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "key": "navigator_platform",</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "Win32"</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp; ],</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp; "nativeInfo": null,</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp; "additions": {},</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp; "options": {</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "sdk": "https://www.yunpian.com/static/official/js/libs/riddler-sdk-0.2.2.js",</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "sdkBuildVersion": "1.5.0(2021111001)",</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "hosts": "https://captcha.yunpian.com"</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp; },</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp; "fp": "d09f0f0b285c4e6ce19192f567f62bc4",</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp; "address": "https://www.yunpian.com",</code><code class="javascript comments">//&nbsp;&nbsp;&nbsp;&nbsp; "yp_riddler_id": "b4cc441f-512c-4d7b-9da1-f6e7c64e2e03"</code><code class="javascript comments">// }</code><code class="javascript comments">//</code><code class="javascript comments">//</code><code class="javascript comments">// a=encrypt(e)</code><code class="javascript comments">// console.log(a);</code></td></tr></tbody></table></td></tr></tbody></table>